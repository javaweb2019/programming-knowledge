# 闭包
- MDN定义
一个函数和对其周围状态的引用捆绑正在一起，这样的组合叫做闭包。闭包可以让内层函数访问到外层函数的作用域
- 4个特点
1. 闭包时函数创建时生成闭包
2. 闭包和 其函数在同一上下文
3. 闭包包行该作用域下的所有变量 
4. 定义函数不会创建闭包，只有在创建/执行函数时才创建闭包

[闭包](https://segmentfault.com/a/1190000039042550)
## 作用域
- js是词法作用域，也称做静态作用域，取决于函数定义的地方
## 执行上下文
- 执行上下文可以抽象成一个对象，当一个函数执行时就会创建一个执行上下文
-  执行上下文有三个属性 
1. 变量对象(Variable object,VO)
2. 作用域链(Scope chain)
3. this
- 执行机制
- js先在全局环境中，会创建全局上下文并压入执行栈中，当执行一个函数时，会创建一个执行上下文，压入栈中，执行完毕后，退出栈，并销毁。
## 作用域
- 查找变量是，会在当前执行上下文查找，如果为找到，则会在父级上下文上查找。
- 函数创建时，有一个内部属性 [[scope]] 保存了所有父变量对象。当函数执行时会创建一个作用域链，这个作用域链包含了函数的 [[scope]] 属性和执行上下文的活动对象(AO)
- [参考](https://juejin.cn/post/6844903800067588110)